E-Commerce Backend Application

A production-oriented **Spring Boot e-commerce backend** implementing complete
**cart ‚Üí order ‚Üí payment ‚Üí refund ‚Üí return lifecycle** using clean architecture
and design patterns.

---

## Tech Stack
- Java 17
- Spring Boot
- Spring Data JPA
- MySQL
- Hibernate
- Lombok
- REST APIs
- Strategy Design Pattern
- UUID-based User IDs

---

## Key Design Principles
- Separation of concerns
- Strategy Pattern for Payment & Refund
- Transactional consistency
- Clear order lifecycle management
- Scalable for microservices & Kafka later

---

# USER FLOW

## 1Ô∏è‚É£ User & Address
- User registers (UUID generated)
- User can add multiple addresses

POST /users
POST /users/{userId}/address
GET /users/{userId}/address

-----------------------------------------------------------------------------------------------------------

## 2Ô∏è‚É£ Product Browsing
- View all available products

GET /products

--------------------------------------------------------------------------------------------------------------

## 3Ô∏è‚É£ Cart Management
- Add product to cart
- Update quantity
- Remove product
- View cart

POST /cart/{userId}/add
PUT /cart/{userId}/update
DELETE /cart/{userId}/remove/{productId}
GET /cart/{userId}

--------------------------------------------------------------------------------------------------------------

## 4Ô∏è‚É£ Checkout (Order Creation)
- Cart converted into Order
- Stock validated & reserved
- Cart cleared

POST /orders/{userId}/checkout

**Result**
OrderStatus = PLACED

-----------------------------------------------------------------------------------------------------------

## 5Ô∏è‚É£ Payment (Strategy Pattern)

### ONLINE
PLACED ‚Üí PAID

### CASH ON DELIVERY (COD)
PLACED ‚Üí CONFIRMED

PUT /orders/{orderId}/pay/{userId}

json:
{
  "paymentMode": "ONLINE | COD",
  "success": true
}

-----------------------------------------------------------------------------------------------------------

6Ô∏è‚É£ Order Lifecycle
ONLINE
PLACED ‚Üí PAID ‚Üí CONFIRMED ‚Üí SHIPPED ‚Üí DELIVERED

COD
PLACED ‚Üí CONFIRMED ‚Üí SHIPPED ‚Üí DELIVERED ‚Üí PAID
---------------------
7Ô∏è‚É£ Order History
GET /orders/{userId}
-------------------------
8Ô∏è‚É£ Cancel Order (Before Delivery)
Rules
Status	          Cancel	          Refund
CONFIRMED (COD) 	‚úÖ	               ‚ùå
PAID	            ‚úÖ	               ‚úÖ
SHIPPED	            ‚ùå	               ‚ùå
DELIVERED	        ‚ùå	               ‚ùå
PUT /orders/{orderId}/cancel/{userId}
-----------------------------------------------------
9Ô∏è‚É£ Return Order (After Delivery ‚Äì Planned)
DELIVERED
 ‚Üì
RETURN_REQUESTED
 ‚Üì
RETURN_APPROVED
 ‚Üì
BANK_DETAILS_SUBMITTED (COD)
 ‚Üì
REFUND_INITIATED
 ‚Üì
REFUNDED
-------------------------------------------------------------------------


üßë‚Äçüíº ADMIN FLOW
1Ô∏è‚É£ Product Management
POST   /products
PUT    /products/{productId}
DELETE /products/{productId}
--------------------------------------------------
2Ô∏è‚É£ Order Fulfillment
PUT /orders/{orderId}/status?status=SHIPPED
PUT /orders/{orderId}/status?status=DELIVERED
-------------------------------------------------------------------
3Ô∏è‚É£ Refund Handling (Strategy Pattern)

ONLINE ‚Üí Refund
COD ‚Üí Not applicable
--------------------------------------
üí≥ Payment & Refund
Payment
Separate Payment entity
Persisted via PaymentStrategy
Refund
Separate Refund entity
Triggered on cancel of PAID orders

------------------------------------------------------------------------------------------

üß† Design Patterns Used
Pattern	Purpose
Strategy: Payment & Refund
Factory	Strategy selection
Transaction Management	Data consistency
--------------------------------------------
üîê Security (Planned)
JWT Authentication
Role-based access (USER / ADMIN)
----------------------------------
üì¶ Future Enhancements
Order State Machine
Kafka events
Payment gateway integration
Return window rules
Microservices migration